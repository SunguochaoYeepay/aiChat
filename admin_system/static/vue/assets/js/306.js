"use strict";(self["webpackChunkdesign_helper_frontend"]=self["webpackChunkdesign_helper_frontend"]||[]).push([[306],{9306:(e,a,r)=>{r.r(a),r.d(a,{default:()=>p});var l=r(6254);const n={class:"login-container"};function s(e,a,r,s,o,u){const t=(0,l.g2)("a-input"),d=(0,l.g2)("a-form-item"),i=(0,l.g2)("a-input-password"),g=(0,l.g2)("a-button"),p=(0,l.g2)("a-form"),m=(0,l.g2)("a-alert"),c=(0,l.g2)("a-card");return(0,l.uX)(),(0,l.CE)("div",n,[(0,l.bF)(c,{title:"系统登录",class:"login-card"},{default:(0,l.k6)((()=>[(0,l.bF)(p,{model:e.loginForm,onFinish:e.handleSubmit,layout:"vertical"},{default:(0,l.k6)((()=>[(0,l.bF)(d,{label:"用户名",name:"username",rules:[{required:!0,message:"请输入用户名"}]},{default:(0,l.k6)((()=>[(0,l.bF)(t,{value:e.loginForm.username,"onUpdate:value":a[0]||(a[0]=a=>e.loginForm.username=a),placeholder:"请输入用户名",size:"large"},null,8,["value"])])),_:1}),(0,l.bF)(d,{label:"密码",name:"password",rules:[{required:!0,message:"请输入密码"}]},{default:(0,l.k6)((()=>[(0,l.bF)(i,{value:e.loginForm.password,"onUpdate:value":a[1]||(a[1]=a=>e.loginForm.password=a),placeholder:"请输入密码",size:"large"},null,8,["value"])])),_:1}),(0,l.bF)(d,null,{default:(0,l.k6)((()=>[(0,l.bF)(g,{type:"primary","html-type":"submit",size:"large",block:"",loading:e.loading},{default:(0,l.k6)((()=>a[2]||(a[2]=[(0,l.eW)(" 登录 ")]))),_:1},8,["loading"])])),_:1})])),_:1},8,["model","onFinish"]),e.error?((0,l.uX)(),(0,l.Wv)(m,{key:0,type:"error",message:e.error,"show-icon":""},null,8,["message"])):(0,l.Q3)("",!0)])),_:1})])}var o=r(5598),u=r(3594),t=r(9083);const d=(0,l.pM)({name:"LoginView",setup(){const e=(0,u.Pj)(),a=(0,t.rd)(),r=(0,o.KR)(!1),l=(0,o.KR)(""),n=(0,o.Kh)({username:"",password:""}),s=async n=>{r.value=!0,l.value="";try{await e.dispatch("login",{username:n.username,password:n.password}),a.push("/")}catch(s){s.response&&s.response.data?l.value=s.response.data.error||"登录失败":l.value="登录失败，请检查网络连接"}finally{r.value=!1}};return{loginForm:n,loading:r,error:l,handleSubmit:s}}});var i=r(4093);const g=(0,i.A)(d,[["render",s],["__scopeId","data-v-c6908dbe"]]),p=g}}]);
//# sourceMappingURL=306.js.map