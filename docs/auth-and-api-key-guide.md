# 用户认证与API密钥管理功能说明

本文档介绍了系统的用户认证和API密钥管理功能的使用方法。

## 用户认证

### 登录系统

1. 访问系统登录页面 `/login`
2. 输入用户名和密码
3. 点击"登录"按钮

登录成功后，系统会自动跳转到首页。

### 退出登录

1. 点击页面右上角的用户头像
2. 在下拉菜单中选择"退出登录"

### 用户管理

管理员用户可以通过用户管理页面创建、编辑和删除用户：

1. 在侧边栏菜单中选择"系统管理" -> "用户管理"
2. 用户管理页面提供以下功能：
   - 查看所有用户列表
   - 创建新用户：点击页面右上角的"创建用户"按钮
   - 编辑用户：点击用户列表中的"编辑"按钮
   - 删除用户：点击用户列表中的"删除"按钮

注意事项：
- 只有管理员用户可以访问用户管理页面
- 不能删除当前登录的用户
- 新创建的用户可以被设置为普通用户或管理员用户

## API密钥管理

系统提供了API密钥管理功能，用于生成和管理用于访问API的密钥。

### 管理API密钥

管理员用户可以通过API密钥管理页面创建、编辑和删除API密钥：

1. 在侧边栏菜单中选择"系统管理" -> "API密钥"
2. API密钥管理页面提供以下功能：
   - 查看所有API密钥列表
   - 创建新API密钥：点击页面右上角的"创建API密钥"按钮
   - 编辑API密钥：点击API密钥列表中的"编辑"按钮
   - 删除API密钥：点击API密钥列表中的"删除"按钮
   - 复制API密钥：点击API密钥列表中的"复制"按钮

### 创建API密钥

创建API密钥时，可以设置以下参数：

- **名称**：API密钥的名称（必填）
- **描述**：对API密钥用途的描述
- **过期时间**：设置API密钥的过期时间（可选）
- **允许的IP地址**：限制可以使用此API密钥的IP地址，多个IP用逗号分隔（可选）
- **速率限制**：设置使用此API密钥的请求速率限制，即每分钟最大请求次数（可选）

创建成功后，系统会显示生成的API密钥，**这是唯一一次展示完整密钥的机会**，请妥善保存。

### 在API请求中使用API密钥

使用API密钥进行API请求时，需要在HTTP请求头中添加API密钥：

```
X-API-Key: your_api_key_here
```

例如，使用curl发送请求：

```bash
curl -X POST "https://your-api-domain.com/api/v1/chat/completions" \
  -H "Content-Type: application/json" \
  -H "X-API-Key: your_api_key_here" \
  -d '{"messages": [{"role": "user", "content": "你好，请介绍一下自己"}]}'
```

### API密钥安全性

为确保API密钥的安全，请注意以下事项：

1. 妥善保管API密钥，不要泄露给未授权的人员
2. 定期轮换API密钥
3. 为API密钥设置合理的权限和限制
4. 一旦怀疑API密钥泄露，应立即禁用或删除该密钥 